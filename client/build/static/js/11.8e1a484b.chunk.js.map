{"version":3,"sources":["assets/gifs/loader.gif","pages/post/Post.tsx"],"names":["PostStyle","styled","div","mobile","props","theme","fonts","bold","NavigationButtonsContainer","SecondaryHeading","h3","light","ShareIconsContainer","Post","useState","postsLength","setPostsLength","params","useParams","post","useFetchPosts","id","history","useHistory","html","content","options","replace","attribs","children","class","language","style","atomDark","domToReact","parsedHTML","parse","useEffect","instance","get","then","response","data","length","marginTop","marginBottom","padding","onClick","push","title","description","createdAt","display","flexDirection","src","loader","alt","width","height","margin","textAlign","fontSize","url","Number"],"mappings":"qIAAe,QAA0B,oC,4MC2InCA,EAAYC,IAAOC,IAAV,kEAAGD,CAAH,oKAOFE,IAKFA,KAKQ,SAACC,GAAD,OAAWA,EAAMC,MAAMC,MAAMC,QAS1CC,EAA6BP,IAAOC,IAAV,mFAAGD,CAAH,8EAO1BQ,EAAmBR,IAAOS,GAAV,yEAAGT,CAAH,qFACL,SAACG,GAAD,OAAWA,EAAMC,MAAMC,MAAMK,SAMxCC,EAAsBX,IAAOC,IAAV,4EAAGD,CAAH,kHAaVY,UA5KF,WACX,MAAsCC,mBAAS,GAA/C,mBAAOC,EAAP,KAAoBC,EAApB,KACMC,EAAyBC,cACzBC,EAAOC,YAAcH,EAAOI,IAC5BC,EAAUC,cACVC,GAAW,OAAJL,QAAI,IAAJA,OAAA,EAAAA,EAAMM,UAAW,cAExBC,EAAU,CACdC,QAAS,YAAiC,IAA9BC,EAA6B,EAA7BA,QAASC,EAAoB,EAApBA,SACnB,GAAKD,EAIL,MAAsB,cAAlBA,EAAQE,MAER,cAAC,IAAD,CAAmBC,SAAS,aAAaC,MAAOC,IAAhD,SACGC,YAAWL,EAAUH,UAH5B,IAUES,EAAaC,YAAM,GAAD,OAAIZ,GAAQE,GAQpC,OANAW,qBAAU,WACRC,IAASC,IAAI,uBAAuBC,MAAK,SAACC,GACxCzB,EAAeyB,EAASC,KAAKC,aAE9B,IAGD,gCACGxB,EACC,eAACnB,EAAD,WACE,cAAC,IAAD,CACEgC,MAAO,CACLY,UAAW,OACXC,aAAc,OACdC,QAAS,GAEXC,QAAS,WACPzB,EAAQ0B,KAAK,UAPjB,iFAYA,6BAAK7B,EAAK8B,QACV,cAACxC,EAAD,UAAmBU,EAAK+B,cACxB,oBAAGlB,MAAO,CAAEa,aAAc,UAA1B,4EACgB1B,EAAKgC,aAEpBhB,KAGH,sBAAKH,MAAO,CAAEoB,QAAS,OAAQC,cAAe,UAA9C,UACE,qBACEC,IAAKC,IACLC,IAAI,oDACJxB,MAAO,CAAEyB,MAAO,QAASC,OAAQ,QAASC,OAAQ,YAEpD,oBAAI3B,MAAO,CAAE4B,UAAW,SAAUC,SAAU,QAA5C,qFAMH1C,GACC,qCACE,wBAAQa,MAAO,CAAEY,UAAW,OAAQQ,QAAS,SAA7C,8EAGA,eAACxC,EAAD,WACE,cAAC,IAAD,CACEkD,IAAG,sCAAiC7C,EAAOI,IAD7C,SAGE,cAAC,IAAD,MAEF,cAAC,IAAD,CACEyC,IAAG,sCAAiC7C,EAAOI,IAD7C,SAGE,cAAC,IAAD,MAEF,cAAC,IAAD,CACEyC,IAAG,sCAAiC7C,EAAOI,IAD7C,SAGE,cAAC,IAAD,SAIJ,eAACb,EAAD,WACE,8BACGuD,OAAO9C,EAAOI,IAAM,GACnB,cAAC,IAAD,CACEW,MAAO,CAAEc,QAAS,GAClBC,QAAS,kBAAMzB,EAAQ0B,KAAR,gBAAsBe,OAAO9C,EAAOI,IAAM,KAF3D,6EASJ,8BACG0C,OAAO9C,EAAOI,IAAMN,GACnB,cAAC,IAAD,CACEiB,MAAO,CAAEc,QAAS,GAClBC,QAAS,kBAAMzB,EAAQ0B,KAAR,gBAAsBe,OAAO9C,EAAOI,IAAM,KAF3D","file":"static/js/11.8e1a484b.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/loader.45b6b611.gif\";","import { useEffect, useState } from \"react\";\r\nimport { useParams, useHistory } from \"react-router-dom\";\r\nimport { useFetchPosts } from \"../../hooks\";\r\nimport parse, { domToReact } from \"html-react-parser\";\r\nimport { Prism as SyntaxHighlighter } from \"react-syntax-highlighter\";\r\nimport { atomDark } from \"react-syntax-highlighter/dist/esm/styles/prism\";\r\nimport {\r\n  EmailShareButton,\r\n  FacebookShareButton,\r\n  WhatsappShareButton,\r\n  FacebookIcon,\r\n  WhatsappIcon,\r\n  EmailIcon,\r\n} from \"react-share\";\r\nimport styled from \"styled-components/macro\";\r\nimport { mobile } from \"../../utils/screen-sizes\";\r\nimport loader from \"../../assets/gifs/loader.gif\";\r\nimport instance from \"../../api\";\r\nimport { Button } from \"@material-ui/core\";\r\n\r\nconst Post = () => {\r\n  const [postsLength, setPostsLength] = useState(0);\r\n  const params: { id: string } = useParams();\r\n  const post = useFetchPosts(params.id);\r\n  const history = useHistory();\r\n  const html = post?.content || \"<div></div>\";\r\n\r\n  const options = {\r\n    replace: ({ attribs, children }: any) => {\r\n      if (!attribs) {\r\n        return;\r\n      }\r\n\r\n      if (attribs.class === \"ql-syntax\") {\r\n        return (\r\n          <SyntaxHighlighter language=\"javascript\" style={atomDark}>\r\n            {domToReact(children, options)}\r\n          </SyntaxHighlighter>\r\n        );\r\n      }\r\n    },\r\n  };\r\n\r\n  const parsedHTML = parse(`${html}`, options);\r\n\r\n  useEffect(() => {\r\n    instance.get(\"/posts/posts-length\").then((response) => {\r\n      setPostsLength(response.data.length);\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      {post ? (\r\n        <PostStyle>\r\n          <Button\r\n            style={{\r\n              marginTop: \"2rem\",\r\n              marginBottom: \"2rem\",\r\n              padding: 0,\r\n            }}\r\n            onClick={() => {\r\n              history.push(\"/blog\");\r\n            }}\r\n          >\r\n            חזרה למאמרים\r\n          </Button>\r\n          <h1>{post.title}</h1>\r\n          <SecondaryHeading>{post.description}</SecondaryHeading>\r\n          <p style={{ marginBottom: \"3.5rem\" }}>\r\n            נכתב בתאריך: {post.createdAt}\r\n          </p>\r\n          {parsedHTML}\r\n        </PostStyle>\r\n      ) : (\r\n        <div style={{ display: \"flex\", flexDirection: \"column\" }}>\r\n          <img\r\n            src={loader}\r\n            alt=\"טוען פוסט\"\r\n            style={{ width: \"20rem\", height: \"20rem\", margin: \"0 auto\" }}\r\n          />\r\n          <h2 style={{ textAlign: \"center\", fontSize: \"3rem\" }}>\r\n            טוען את הפוסט\r\n          </h2>\r\n        </div>\r\n      )}\r\n\r\n      {post && (\r\n        <>\r\n          <strong style={{ marginTop: \"5rem\", display: \"block\" }}>\r\n            קדימה להפיץ :)\r\n          </strong>\r\n          <ShareIconsContainer>\r\n            <FacebookShareButton\r\n              url={`https://easy-front.dev/blog/${params.id}`}\r\n            >\r\n              <FacebookIcon />\r\n            </FacebookShareButton>\r\n            <EmailShareButton\r\n              url={`https://easy-front.dev/blog/${params.id}`}\r\n            >\r\n              <EmailIcon />\r\n            </EmailShareButton>\r\n            <WhatsappShareButton\r\n              url={`https://easy-front.dev/blog/${params.id}`}\r\n            >\r\n              <WhatsappIcon />\r\n            </WhatsappShareButton>\r\n          </ShareIconsContainer>\r\n\r\n          <NavigationButtonsContainer>\r\n            <div>\r\n              {Number(params.id) > 1 && (\r\n                <Button\r\n                  style={{ padding: 0 }}\r\n                  onClick={() => history.push(`/blog/${Number(params.id) - 1}`)}\r\n                >\r\n                  לפוסט הקודם\r\n                </Button>\r\n              )}\r\n            </div>\r\n\r\n            <div>\r\n              {Number(params.id) < postsLength && (\r\n                <Button\r\n                  style={{ padding: 0 }}\r\n                  onClick={() => history.push(`/blog/${Number(params.id) + 1}`)}\r\n                >\r\n                  לפוסט הבא\r\n                </Button>\r\n              )}\r\n            </div>\r\n          </NavigationButtonsContainer>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst PostStyle = styled.div`\r\n  iframe {\r\n    width: 100%;\r\n    min-height: 35rem;\r\n  }\r\n\r\n  pre {\r\n    @media ${mobile} {\r\n      font-size: 1.6rem;\r\n    }\r\n  }\r\n\r\n  @media ${mobile} {\r\n    padding-top: 1rem;\r\n  }\r\n\r\n  strong {\r\n    font-family: ${(props) => props.theme.fonts.bold};\r\n  }\r\n\r\n  img {\r\n    max-width: 100%;\r\n    max-height: 100%;\r\n  }\r\n`;\r\n\r\nconst NavigationButtonsContainer = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  width: 100%;\r\n  margin-top: 5.5rem;\r\n`;\r\n\r\nconst SecondaryHeading = styled.h3`\r\n  font-family: ${(props) => props.theme.fonts.light};\r\n  margin-top: 1.5rem;\r\n  margin-bottom: 2rem;\r\n  color: rgba(117, 117, 117, 1);\r\n`;\r\n\r\nconst ShareIconsContainer = styled.div`\r\n  button {\r\n    margin-top: 1rem;\r\n    margin-left: 1rem;\r\n    svg {\r\n      width: 5rem;\r\n      height: 5rem;\r\n      border-radius: 5rem;\r\n      filter: opacity(0.7);\r\n    }\r\n  }\r\n`;\r\n\r\nexport default Post;\r\n"],"sourceRoot":""}